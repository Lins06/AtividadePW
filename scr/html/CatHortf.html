<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/AtividadePW/scr/css/style.css">
    <title>CatHortf</title>
</head>
<body>
    <header class="header">
        <nav>
          <a href="" class="logo">Carrinho Online</a>
          <div class="nav-links">
            <a href="/AtividadePW/scr/html/login.html">Login</a>
            <a href="/AtividadePW/scr/html/TelaInicial.html">Tela Inicial</a>

            <div class="dropdown">
              <a href="#" class="dropbtn">Categorias</a>
              <div class="dropdown-content">
                <a href="/AtividadePW/scr/html/CatAdega.html">Adega</a>
                <a href="/AtividadePW/scr/html/CatCarnes.html">Carnes</a>
                <a href="/AtividadePW/scr/html/CatHortf.html">Hortifruti</a>
                <a href="/AtividadePW/scr/html/CatLimpeza.html">Limpeza</a>
                <a href="/AtividadePW/scr/html/CatNaoP.html">Não Perecíveis</a>
                <a href="/AtividadePW/scr/html/CatPadaria.html">Padaria</a>
              </div>
            </div>
            <a href="/AtividadePW/scr/html/CarrinhoCompras.html">Carrinho</a>
          </div>
        </nav>
    </header>

    <h1>HORTIFRUTI</h1>

    <div class="FiltersContainer">
  <div class="filter-box">
    <label for="filtro-kg">Quantidade Kgs</label>
    <select id="filtro-kg" onchange="FiltrarProdutos()">
      <option value="todos">Todos</option>
      <option value="700g">700g</option>
      <option value="800g">800g</option>
      <option value="900g">900g</option>
      <option value="1kg">1kg</option>
    </select>
  </div>

  <div class="filter-box">
    <label for="filtro-embalagem">Formato Apresentação</label>
    <select id="filtro-embalagem" onchange="FiltrarProdutos()">
      <option value="todos">Todos</option>
      <option value="unidade">Unidade</option>
      <option value="pacote">Pacote</option>
      <option value="duzia">Duzia</option>
    </select>
  </div>
</div>

  

   <div class="containerprodutos"> <div class="Pcontainer" data-kg="1kg" data-embalagem="duzia">
    <img src="/AtividadePW/imagens/banana.png" alt="Banana Prata" class="productimg">
    <h3>Banana Prata madura 1kg</h3>
    <button class="add-button">Adicionar</button>
  </div>
  <div class="Pcontainer" data-kg="800g" data-embalagem="duzia">
    <img src="/AtividadePW/imagens/laranja.png" alt="Laranja Pera" class="productimg">
    <h3>Laranja Pera suculenta 800g</h3>
    <button class="add-button">Adicionar</button>
  </div>
  <div class="Pcontainer" data-kg="700g" data-embalagem="duzia">
    <img src="/AtividadePW/imagens/limao.png" alt="Limão Siciliano" class="productimg">
    <h3>Limão Siciliano importado 700g</h3>
    <button class="add-button">Adicionar</button>
  </div>
  <div class="Pcontainer" data-kg="900g" data-embalagem="duzia">
    <img src="/AtividadePW/imagens/manga.png" alt="Manga Palmer" class="productimg">
    <h3>Manga Palmer selecionada 900g</h3>
    <button class="add-button">Adicionar</button>
  </div>
  <div class="Pcontainer" data-kg="1kg" data-embalagem="unidade">
    <img src="/AtividadePW/imagens/melancia.png" alt="Melancia" class="productimg">
    <h3>Melancia fresca média unidade 1kg</h3>
    <button class="add-button">Adicionar</button>
  </div>
  <div class="Pcontainer" data-kg="700g" data-embalagem="duzia">
    <img src="/AtividadePW/imagens/maca.png" alt="Maçã Fuji" class="productimg">
    <h3>Maçã Fuji selecionada 700g</h3>
    <button class="add-button">Adicionar</button>
  </div>
  <div class="Pcontainer" data-kg="800g" data-embalagem="pacote">
    <img src="/AtividadePW/imagens/morango.png" alt="Morango" class="productimg">
    <h3>Morango doce premium 800g</h3>
    <button class="add-button">Adicionar</button>
  </div>
  <div class="Pcontainer" data-kg="900g" data-embalagem="duzia">
    <img src="/AtividadePW/imagens/mamao.png" alt="Mamão Formosa" class="productimg">
    <h3>Mamão Formosa maduro 900g</h3>
    <button class="add-button">Adicionar</button>
  </div>
  <div class="Pcontainer" data-kg="700g" data-embalagem="duzia">
    <img src="/AtividadePW/imagens/goiaba.png" alt="Goiaba Vermelha" class="productimg">
    <h3>Goiaba vermelha fresca 700g</h3>
    <button class="add-button">Adicionar</button>
  </div>
  <div class="Pcontainer" data-kg="1kg" data-embalagem="duzia">
    <img src="/AtividadePW/imagens/melao.png" alt="Melão Amarelo" class="productimg">
    <h3>Melão Amarelo doce 1kg</h3>
    <button class="add-button">Adicionar</button>
  </div>
</div>

<script>
document.addEventListener("DOMContentLoaded", () => {
          const buttons = document.querySelectorAll(".add-button");

          buttons.forEach(button => {
              button.addEventListener("click", (event) => {
                  const productContainer = event.target.parentElement;
                  const product = {
                      name: productContainer.querySelector("h3").innerText,
                      image: productContainer.querySelector("img").src
                  };

                  let cart = JSON.parse(localStorage.getItem("cart")) || [];
                  cart.push(product);
                  localStorage.setItem("cart", JSON.stringify(cart));

                  alert(`${product.name} foi adicionado ao carrinho!`);
              });
          });
      });

  function FiltrarProdutos() {
    const filtroKG = document.getElementById('filtro-kg').value;
    const filtroEmbalagemTipo = document.getElementById('filtro-embalagem').value;

    document.querySelectorAll('.Pcontainer').forEach(produto => {
        const KG = produto.dataset.kg;
        const EmbalagemTipo = produto.dataset.embalagem;

        const Mostrar = 
            (filtroKG === 'todos' || filtroKG === KG) &&
            (filtroEmbalagemTipo === 'todos' || filtroEmbalagemTipo === EmbalagemTipo);

        produto.style.display = Mostrar ? 'block' : 'none';
    });
}
</script>

</body>
</html>