<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/AtividadePW/scr/css/style.css">
    <title>CatAdega</title>
</head>
<body>
    <header class="header">
        <nav>
          <a href="" class="logo">Carrinho Online</a>
          <div class="nav-links">
            <a href="/AtividadePW/scr/html/login.html" id="link-login">Login</a>
            <a href="/AtividadePW/scr/html/TelaInicial.html">Tela Inicial</a>

            <div class="dropdown">
              <a href="#" class="dropbtn">Categorias</a>
              <div class="dropdown-content">
                <a href="/AtividadePW/scr/html/CatAdega.html">Adega</a>
                <a href="/AtividadePW/scr/html/CatCarnes.html">Carnes</a>
                <a href="/AtividadePW/scr/html/CatHortf.html">Hortifruti</a>
                <a href="/AtividadePW/scr/html/CatLimpeza.html">Limpeza</a>
                <a href="/AtividadePW/scr/html/CatNaoP.html">Não Perecíveis</a>
                <a href="/AtividadePW/scr/html/CatPadaria.html">Padaria</a>
              </div>
            </div>
            <a href="/AtividadePW/scr/html/CarrinhoCompras.html">Carrinho</a>
          </div>
        </nav>
    </header>

    <h1>ADEGA</h1>

    <div class="FiltersContainer">
  <div class="filter-box">
    <label for="filtro-ml">Quantidade MLs</label>
    <select id="filtro-ml" onchange="FiltrarProdutos()">
      <option value="todos">Todos</option>
      <option value="250ml">250ml</option>
      <option value="300ml">300ml</option>
    </select>
  </div>

  <div class="filter-box">
    <label for="filtro-marca">Marca</label>
    <select id="filtro-marca" onchange="FiltrarProdutos()">
      <option value="todos">Todos</option>
      <option value="skol">Skol</option>
      <option value="heineken">Heineken</option>
      <option value="brahma">Brahma</option>
      <option value="itaipava">Itaipava</option>
      <option value="budwaiser">Budwaiser</option>
    </select>
  </div>

  <div class="filter-box">
    <label for="filtro-embalagem">Tipo Embalagem</label>
    <select id="filtro-embalagem" onchange="FiltrarProdutos()">
      <option value="todos">Todos</option>
      <option value="longneck">Long Neck</option>
      <option value="lata">Lata</option>
    </select>
  </div>
</div>

  

    <div class="containerprodutos">
  <div class="Pcontainer" data-marca="heineken" data-ml="250ml" data-embalagem="longneck">
    <img src="/AtividadePW/imagens/Cerveja-Heineken-250ml.jpg" alt="Cerveja Heineken" class="productimg">
    <h3>Cerveja Long Neck Heineken 250ml</h3>
    <button class="add-button">Adicionar</button>
  </div>
  <div class="Pcontainer" data-marca="brahma" data-ml="250ml" data-embalagem="longneck">
    <img src="/AtividadePW/imagens/brahma.png" alt="Cerveja Brahma" class="productimg">
    <h3>Cerveja Long Neck Brahma 250ml</h3>
    <button class="add-button">Adicionar</button>
  </div>
  <div class="Pcontainer" data-marca="itaipava" data-ml="300ml" data-embalagem="longneck">
    <img src="/AtividadePW/imagens/itaipava.png" alt="Cerveja Itaipava" class="productimg">
    <h3>Cerveja Long Neck Itaipava 300ml</h3>
    <button class="add-button">Adicionar</button>
  </div>
  <div class="Pcontainer" data-marca="budwaiser" data-ml="250ml" data-embalagem="longneck">
    <img src="/AtividadePW/imagens/budwaiser.png" alt="Cerveja Budweiser" class="productimg">
    <h3>Cerveja Long Neck Budwaiser 250ml</h3>
    <button class="add-button">Adicionar</button>
  </div>
  <div class="Pcontainer" data-marca="skol" data-ml="250ml" data-embalagem="longneck">
    <img src="/AtividadePW/imagens/Skol.png" alt="Cerveja Skol" class="productimg">
    <h3>Cerveja Long Neck Skol 250ml</h3>
    <button class="add-button">Adicionar</button>
  </div>
  <div class="Pcontainer" data-marca="skol" data-ml="250ml" data-embalagem="lata">
    <img src="/AtividadePW/imagens/skollata.png" alt="Cerveja Skol Lata" class="productimg">
    <h3>Cerveja Lata Skol 250ml</h3>
    <button class="add-button">Adicionar</button>
  </div>
  <div class="Pcontainer" data-marca="heineken" data-ml="250ml" data-embalagem="lata">
    <img src="/AtividadePW/imagens/HeinekenLata.png" alt="Cerveja Heineken Lata" class="productimg">
    <h3>Cerveja Lata Heineken 250ml</h3>
    <button class="add-button">Adicionar</button>
  </div>
  <div class="Pcontainer" data-marca="itaipava" data-ml="250ml" data-embalagem="lata">
    <img src="/AtividadePW/imagens/ItaipavaLata.png" alt="Cerveja Itaipava Lata" class="productimg">
    <h3>Cerveja Lata Itaipava 250ml</h3>
    <button class="add-button">Adicionar</button>
  </div>
  <div class="Pcontainer" data-marca="budwaiser" data-ml="250ml" data-embalagem="lata">
    <img src="/AtividadePW/imagens/BudwaiserLata.png" alt="Cerveja Budweiser Lata" class="productimg">
    <h3>Cerveja Lata Budwaiser 250ml</h3>
    <button class="add-button">Adicionar</button>
  </div>
  <div class="Pcontainer" data-marca="brahma" data-ml="250ml" data-embalagem="lata">
    <img src="/AtividadePW/imagens/brahmalata.png" alt="Cerveja Brahma Lata" class="productimg">
    <h3>Cerveja Lata Brahma 250ml</h3>
    <button class="add-button">Adicionar</button>
  </div>
</div>

<script>
      document.addEventListener("DOMContentLoaded", () => {
          const buttons = document.querySelectorAll(".add-button");

          buttons.forEach(button => {
              button.addEventListener("click", (event) => {
                  const productContainer = event.target.parentElement;
                  const product = {
                      name: productContainer.querySelector("h3").innerText,
                      image: productContainer.querySelector("img").src
                  };

                  let cart = JSON.parse(localStorage.getItem("cart")) || [];
                  cart.push(product);
                  localStorage.setItem("cart", JSON.stringify(cart));

                  alert(`${product.name} foi adicionado ao carrinho!`);
              });
          });
      });

      

 function FiltrarProdutos() {
    const filtroML = document.getElementById('filtro-ml').value;
    const filtroMarca = document.getElementById('filtro-marca').value;
    const filtroEmbalagemTipo = document.getElementById('filtro-embalagem').value;

    document.querySelectorAll('.Pcontainer').forEach(produto => {
        const ML = produto.dataset.ml;
        const Marca = produto.dataset.marca;
        const EmbalagemTipo = produto.dataset.embalagem;

        const Mostrar = 
            (filtroML === 'todos' || filtroML === ML) &&
            (filtroMarca === 'todos' || filtroMarca === Marca) &&
            (filtroEmbalagemTipo === 'todos' || filtroEmbalagemTipo === EmbalagemTipo);

        produto.style.display = Mostrar ? 'block' : 'none';
    });
}

      window.addEventListener('DOMContentLoaded', () => {
  const linkLogin = document.getElementById('link-login');
  const navLinks = document.querySelector('.nav-links');

  const estaLogado = localStorage.getItem('usuarioLogado') === 'true';
  const nomeUsuario = localStorage.getItem('nomeUsuario');

  if (estaLogado) {
    if (linkLogin) {
      linkLogin.style.display = 'none';
    }

    // Adiciona saudação e botão sair
    const saudacao = document.createElement('span');
    saudacao.style.marginRight = '10px';

    const botaoSair = document.createElement('a');
    botaoSair.href = "#";
    botaoSair.textContent = "Logout";
    botaoSair.style.cursor = 'pointer';
    botaoSair.className = 'nav-link';

    botaoSair.addEventListener('click', () => {
      localStorage.removeItem('usuarioLogado');
      localStorage.removeItem('nomeUsuario');
      window.location.reload(); 
    });

    navLinks.appendChild(saudacao);
    navLinks.appendChild(botaoSair);
  }
});
    </script>

</body>
</html>